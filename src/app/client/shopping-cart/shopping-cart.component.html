<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
<div class="container py-5">
  <!-- Reward Info -->
  <div class="alert alert-info text-center">
    <i class="zmdi zmdi-star mr-2"></i>
    Avec cet achat, vous gagnerez <strong>290</strong> points de fidélité.
  </div>
<!-- Loader en dehors du tableau -->
<div class="loader-container" *ngIf="loading">
  <div class="loader"></div>
</div>
  <!-- Cart Table -->
  <div class="table-responsive mb-4">
    <table class="table table-hover">
      <thead class="thead-light">
        <tr>
          <th>Produit</th>
          <th class="text-center">Quantité</th>
          <th class="text-center">Total</th>
          <th class="text-center">Réduction</th>
          
        </tr>
        
      </thead>
       
     <tbody >
     
  <tr *ngFor="let item of cartItems; let i = index">
    <td>
      
      <div class="d-flex align-items-center">
        
        <img src="assets/imagenotavailble.png" alt="Produit" class="img-thumbnail mr-3" style="width: 70px;">
        <div>
          <h6 class="mb-1">{{ item.name }}</h6>
          <small class="text-muted">Marque : {{ item.brand }}</small>
        </div>
      </div>
    </td>
    <td class="text-center">
      <select class="form-control form-control-sm" [(ngModel)]="item.quantity">
        <option *ngFor="let qty of [1,2,3,4,5]" [value]="qty">{{ qty }}</option>
      </select>
    </td>
    <td class="text-center">{{ item.price * item.quantity | currency }}</td>
    <td class="text-center">—</td>
    <td class="text-center">
      <a (click)="removeItem(i)" class="btn btn-sm btn-outline-danger" title="Supprimer">
        <i class="fa fa-trash"></i>
      </a>
    </td>
  </tr>
</tbody>

    </table>
  </div>

  

  <!-- Action Buttons -->
  <div class="d-flex flex-column flex-md-row justify-content-between align-items-center">
    <a class="btn btn-outline-secondary mb-3" (click)="closeCart()">
      <i class="fa fa-arrow-left mr-1"></i> Revenir au catalogue
    </a>
    <div class="d-flex flex-column flex-md-row gap-2">
      <button class="btn btn-custom-blue mb-2" >
        <i class="fa fa-bolt mr-1"></i> Estimer facture énergie
      </button>
      <button class="btn btn-success mb-2">Valider la commande</button>
    </div>
  </div>
</div>
